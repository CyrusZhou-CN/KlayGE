UpdateExternalLib("freetype" "https://git.savannah.nongnu.org/r/freetype/freetype2.git/" "920c5502cc3ddda88f6c7d85ee834ac611bb11cc")

SET(BUILD_SHARED_LIBS OFF CACHE BOOL "" FORCE)
set(SKIP_INSTALL_ALL ON CACHE BOOL "" FORCE)
SET(FT_WITH_BROTLI OFF CACHE BOOL "" FORCE)
SET(FT_WITH_ZLIB OFF CACHE BOOL "" FORCE)
SET(FT_WITH_BZIP2 OFF CACHE BOOL "" FORCE)
SET(FT_WITH_PNG OFF CACHE BOOL "" FORCE)
SET(FT_WITH_HARFBUZZ OFF CACHE BOOL "" FORCE)
SET(CMAKE_DISABLE_FIND_PACKAGE_BrotliDec TRUE CACHE BOOL "" FORCE)
SET(CMAKE_DISABLE_FIND_PACKAGE_BZip2 TRUE CACHE BOOL "" FORCE)
SET(CMAKE_DISABLE_FIND_PACKAGE_PNG TRUE CACHE BOOL "" FORCE)
SET(CMAKE_DISABLE_FIND_PACKAGE_HarfBuzz TRUE CACHE BOOL "" FORCE)

add_subdirectory(freetype EXCLUDE_FROM_ALL)

if(KLAYGE_COMPILER_CLANGCL)
	target_compile_options(freetype
		PRIVATE
			-Wno-unused-parameter
	)
endif()

SET_TARGET_PROPERTIES(freetype PROPERTIES
	DEBUG_POSTFIX ${CMAKE_DEBUG_POSTFIX}
	FOLDER "Externals/freetype"
)

add_dependencies(freetype ${KLAYGE_ZLIB_NAME})
